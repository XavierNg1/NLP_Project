 Mario will go crazy!;
, Then go into the cannon and aim yourself up and left as far as you can until the cannon stops moving in that direction, then shoot. He will bump off the invisible wall and go into the cannon with half of his health. Do this again and and half of his health will gone. Then shoot any direction you want to shoot.
 Then, catch some running speed and press the Z button and then immediately press A to do the backwards long jump. But, you have to keep pressing A after you started him up on the backwards long jump or it won't work.
 Then on the 3rd jump you have to be by the Koopa so when you get on top of the mountain (where you fought the big bob-bomb) he will talk to you from there. after the 3rd jump by Koopa, fly over to the cannon carefully and ground-pound into the hole of the cannon and shoot and fly to that platform in the sky. over that platform you will see another cannon hole. Ground pound on it and then aim Mario about a few centimeters above that shell flag and shoot. you will land on the pole land on the ground and Koopa the quick will talk to you from a mile away. P.S. Koopa will never come to the flag-he will disappear.
 When the hat is blown, don't get the hat at this time. Go to the tree and teleport yourself 2 times and come back to the hat and pick it up. Now you will have 2 hats.
 Mario will back out to the black area and then he will either die or he will land on the second floor.
 Shoot Mario to the top of the castle, get the flying hat and then fly down to the cannon and shoot at the middle part of the castle. then keep walking up on the middle of the castle until you fall in the inside out of the door entry. To get out of the inside out just go through the graphics.
 Jump to that and reach the edge of the castle.
,