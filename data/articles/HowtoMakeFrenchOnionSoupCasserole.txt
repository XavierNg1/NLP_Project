 Cut off the very top and bottom of the onion and then cut the onion in half on the vertical. Discard the cut off portions and the papery outer layer. Then place both onion halves flat side down. Cut vertically to create thin slices through each onion half. Then wash the celery and thinly slice it horizontally into U-shaped slices., Place a large Dutch oven or stockpot on the stove over medium heat. Add the 3 tablespoons (44.37 ml) of unsalted butter and the 2 tablespoons (29.57 ml) of olive oil, swirling the pot so the oil and melted butter coat the bottom., Place the sliced onions and celery in the pot, as well as 1 teaspoon (4.9 ml) of salt, a pinch of pepper, the two bay leaves and the thyme sprigs, and mix thoroughly., Cook the onion mixture for 45 minutes to one hour, stirring occasionally. The onions should done caramelizing when they are soft and golden., Once the onions are caramelized, add the flour and stir the mixture for about one minute until the flour is completely incorporated., Pour in the 1 cup (236.59 ml) of low-sodium beef broth and the ½ cup (118.3 ml) of dry white wine into the stockpot. Simmer the mixture for about 2 minutes until the liquid has almost completely dissolved.You can substitute vegetable broth for beef broth if you want a vegetarian option.
 Once the broth and wine have almost fully dissolved, take the pot off the heat. Use a slotted spoon to scoop up and remove the bay leaves and the sprigs of thyme. Then let the onion mixture cool for a few minutes. While the onions are cooling, preheat the oven to 350 degrees F (176.66 C)., Take the French baguette and use a bread knife to slice it into thin slices that are about ½ inch (1.27 cm) thick. Place the baguette slices spaced out on a baking tray so that they are not touching., Once the oven has preheated, place the baking tray of baguette slices inside. Toast the slices for about 2-3 minutes, or until they are golden and look slightly toasted. Then take them out and let them cool for a few minutes., After you cool the bread, lay the slices in a 3 quart baking dish. Lay them in a “shingle” style like the shingles on a roof, laying the first slices next to each other in a row, then starting the next row on top so that they overlap the first layer by an inch (2.54 cm) or so., After covering the bottom of the baking tray with the bread slices, scoop the onion mixture out of the pot and lay it down on top of the baguette slices, applying the onion mixture in one even layer., Lay the remaining baguette slices down over the onion mixture, putting them in a shingle formation like you did with the first layer. Then shred two cups (473.18) of Gruyere cheese using a coarse cheese grater and sprinkle the shredded cheese evenly on top of the bread., Cover the casserole by spreading tin foil over the top of the baking dish, then place the casserole in the preheated oven., Keep the casserole in the oven to bake for 40 minutes, then pull out the casserole and take off the tin foil. Place the casserole back in the oven and switch the oven setting from bake to broil., Broil the casserole for about 10 minutes, checking every few minutes or so until the cheese on top develops golden or brown spots. Then remove the casserole and turn off the oven., Garnish the casserole with more thyme leaves, then use a spatula or knife to cut the casserole and serve it while hot.,